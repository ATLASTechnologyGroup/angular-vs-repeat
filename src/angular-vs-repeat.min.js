!function(a,b){"use strict";var c=-1!=navigator.appVersion.indexOf("Mac"),d="undefined"!=typeof a.onwheel?"wheel":"undefined"!=typeof a.onmousewheel?"mousewheel":"DOMMouseScroll",e=document.documentElement.matches?"matches":document.documentElement.matchesSelector?"matchesSelector":document.documentElement.webkitMatches?"webkitMatches":document.documentElement.webkitMatchesSelector?"webkitMatchesSelector":document.documentElement.msMatches?"msMatches":document.documentElement.msMatchesSelector?"msMatchesSelector":document.documentElement.mozMatches?"mozMatches":document.documentElement.mozMatchesSelector?"mozMatchesSelector":null,f=b.element.prototype.closest||function(a){for(var c=this[0].parentNode;c!==document.documentElement&&!c[e](a);)c=c.parentNode;return c[e](a)?b.element(c):b.element()};b.module("vs-repeat",[]).directive("vsRepeat",["$compile",function(e){return{restrict:"A",scope:!0,require:"?^vsRepeat",controller:["$scope",function(a){this.$scrollParent=a.$scrollParent,this.$fillElement=a.$fillElement}],compile:function(g){var h=g.children().eq(0),i=h.attr("ng-repeat"),j=h[0].outerHTML,k=/^\s*(\S+)\s+in\s+(\S+)\s*(track\s+by\s+\S+)?/.exec(i),l=k[1],m=k[2],n=k[3],o="$vs_collection",p={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsExcess:"excess"};return g.empty(),a.getComputedStyle&&"absolute"===a.getComputedStyle(g[0]).position||g.css("position","relative"),{pre:function(g,h,i,k){function q(a){var b=a.currentTarget;(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight)&&x.css("display","block")}function r(){v()&&g.$apply()}function s(){J=void 0,K=void 0,v(),t(g.elementSize*w),g.$emit("vsRepeatReinitialized")}function t(a){if(B){if(y.css({width:g.offsetBefore+a+g.offsetAfter+"px",height:"100%"}),k&&k.$fillElement){var b=k.$fillElement[0].parentNode.querySelector("[ng-repeat]");b&&k.$fillElement.css({width:b.scrollWidth+"px"})}}else y.css({height:g.offsetBefore+a+g.offsetAfter+"px",width:"100%"}),k&&k.$fillElement&&(b=k.$fillElement[0].parentNode.querySelector("[ng-repeat]"),b&&k.$fillElement.css({height:b.scrollHeight+"px"}))}function u(){var a=D[0][F];a!==L&&(s(),g.$root&&!g.$root.$$phase&&g.$digest()),L=a}function v(){g.startIndex=Math.max(Math.floor(D[0][H]/g.elementSize+g.excess/2)-g.excess,0),g.endIndex=Math.min(g.startIndex+Math.ceil(D[0][F]/g.elementSize)+g.excess,w);var a=g.startIndex!==J||g.endIndex!==K;return a&&(g[o]=A.slice(g.startIndex,g.endIndex)),J=g.startIndex,K=g.endIndex,a}var w,x,y,z=b.element(j),A=[],B="undefined"!=typeof i.vsHorizontal,C=!i.vsRepeat,D=i.vsScrollParent?f.call(h,i.vsScrollParent):h,E=B?"left":"top",F=B?"clientWidth":"clientHeight",G=B?"offsetWidth":"offsetHeight",H=B?"scrollLeft":"scrollTop";g.$scrollParent=D,g.elementSize=D[0][F],g.offsetBefore=0,g.offsetAfter=0,g.excess=2,Object.keys(p).forEach(function(a){i[a]&&i.$observe(a,function(b){g[p[a]]=+b,s()})}),g.$watchCollection(m,function(a){return A=a||[],!A||A.length<1?(g[o]=[],w=0,void t(0)):(w=A.length,C&&g.$$postDigest(function(){for(var a=h.children(),b=0;b<a.length;){if(null!=a[b].attributes["ng-repeat"]){g.elementSize=a[b][G],s(),C=!1,g.$root.$$phase||g.$apply();break}b++}}),void s())}),z.attr("ng-repeat",l+" in "+o+(n?" "+n:"")).attr("ng-style","{"+E+': (($index + startIndex) * elementSize + offsetBefore) + "px"}').addClass("vs-repeat-repeated-element"),e(z)(g),h.append(z),y=b.element('<div class="vs-repeat-fill-element"></div>').css({position:"relative","min-height":"100%","min-width":"100%"}),h.append(y),e(y)(g),g.$fillElement=y;var I={};c&&(x=b.element('<div class="vs-repeat-wheel-helper"></div>').on(d,function(a){a.preventDefault(),a.stopPropagation(),a.originalEvent&&(a=a.originalEvent),D[0].scrollLeft+=a.deltaX||-a.wheelDeltaX,D[0].scrollTop+=a.deltaY||-a.wheelDeltaY}).on("mousemove",function(a){(I.x!==a.clientX||I.y!==a.clientY)&&b.element(this).css("display","none"),I={x:a.clientX,y:a.clientY}}).css("display","none"),y.append(x)),g.startIndex=0,g.endIndex=0,D.on("scroll",function(){v()&&g.$apply()}),c&&D.on(d,q),b.element(a).on("resize",r),g.$on("$destroy",function(){b.element(a).off("resize",r)}),g.$on("vsRepeatTrigger",s);var J,K,L;g.$watch(function(){"function"==typeof a.requestAnimationFrame?a.requestAnimationFrame(u):u()})}}}}}]),b.element(document.head).append(["<style>.vs-repeat-wheel-helper{	position: absolute;	top: 0;	bottom: 0;	left: 0;	right: 0;	z-index: 99999;	background: rgba(0, 0, 0, 0);}.vs-repeat-repeated-element{	position: absolute;	z-index: 1;}</style>"].join(""))}(window,window.angular);