!function(a,b){"use strict";var c=-1!=navigator.appVersion.indexOf("Mac"),d="undefined"!=typeof a.onwheel?"wheel":"undefined"!=typeof a.onmousewheel?"mousewheel":"DOMMouseScroll",e=document.documentElement.matches?"matches":document.documentElement.matchesSelector?"matchesSelector":document.documentElement.webkitMatches?"webkitMatches":document.documentElement.webkitMatchesSelector?"webkitMatchesSelector":document.documentElement.msMatches?"msMatches":document.documentElement.msMatchesSelector?"msMatchesSelector":document.documentElement.mozMatches?"mozMatches":document.documentElement.mozMatchesSelector?"mozMatchesSelector":null,f=b.element.prototype.closest||function(a){for(var c=this[0].parentNode;c!==document.documentElement&&!c[e](a);)c=c.parentNode;return c[e](a)?b.element(c):b.element()};b.module("vs-repeat",[]).directive("vsRepeat",["$compile",function(e){return{restrict:"A",scope:!0,require:"?^vsRepeat",controller:["$scope",function(a){this.$scrollParent=a.$scrollParent,this.$fillElement=a.$fillElement}],compile:function(g){var h=g.children().eq(0),i=h.attr("ng-repeat"),j=h[0].outerHTML,k=/^\s*(\S+)\s+in\s+(\S+)\s*(track\s+by\s+\S+)?/.exec(i),l=k[1],m=k[2],n=k[3],o="$vs_collection",p={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsExcess:"excess"};return g.empty(),a.getComputedStyle&&"absolute"===a.getComputedStyle(g[0]).position||g.css("position","relative"),{pre:function(g,h,i,k){function q(){D&&g.$$postDigest(function(){if(h[0].offsetHeight||h[0].offsetWidth)for(var a=h.children(),b=0;b<a.length;){if(null!=a[b].attributes["ng-repeat"]){a[b][H]&&(g.elementSize=a[b][H],t(),D=!1,g.$root&&!g.$root.$$phase&&g.$apply());break}b++}else var c=g.$watch(function(){(h[0].offsetHeight||h[0].offsetWidth)&&(c(),q())})})}function r(a){var b=a.currentTarget;(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight)&&y.css("display","block")}function s(){w()&&g.$apply()}function t(){K=void 0,L=void 0,w(),u(g.elementSize*x),g.$emit("vsRepeatReinitialized")}function u(a){if(C){if(z.css({width:g.offsetBefore+a+g.offsetAfter+"px",height:"100%"}),k&&k.$fillElement){var b=k.$fillElement[0].parentNode.querySelector("[ng-repeat]");b&&k.$fillElement.css({width:b.scrollWidth+"px"})}}else z.css({height:g.offsetBefore+a+g.offsetAfter+"px",width:"100%"}),k&&k.$fillElement&&(b=k.$fillElement[0].parentNode.querySelector("[ng-repeat]"),b&&k.$fillElement.css({height:b.scrollHeight+"px"}))}function v(){var a=E[0][G];a!==M&&(t(),g.$root&&!g.$root.$$phase&&g.$apply()),M=a}function w(){g.startIndex=Math.max(Math.floor(E[0][I]/g.elementSize+g.excess/2)-g.excess,0),g.endIndex=Math.min(g.startIndex+Math.ceil(E[0][G]/g.elementSize)+g.excess,x);var a=g.startIndex!==K||g.endIndex!==L;return a&&(g[o]=B.slice(g.startIndex,g.endIndex)),K=g.startIndex,L=g.endIndex,a}var x,y,z,A=b.element(j),B=[],C="undefined"!=typeof i.vsHorizontal,D=!i.vsRepeat,E=i.vsScrollParent?f.call(h,i.vsScrollParent):h,F=C?"left":"top",G=C?"clientWidth":"clientHeight",H=C?"offsetWidth":"offsetHeight",I=C?"scrollLeft":"scrollTop";g.$scrollParent=E,g.elementSize=E[0][G]||50,g.offsetBefore=0,g.offsetAfter=0,g.excess=2,Object.keys(p).forEach(function(a){i[a]&&i.$observe(a,function(b){g[p[a]]=+b,t()})}),g.$watchCollection(m,function(a){return B=a||[],!B||B.length<1?(g[o]=[],x=0,void u(0)):(x=B.length,q(),void t())}),A.attr("ng-repeat",l+" in "+o+(n?" "+n:"")).attr("ng-style","{"+F+': (($index + startIndex) * elementSize + offsetBefore) + "px"}').addClass("vs-repeat-repeated-element"),e(A)(g),h.append(A),z=b.element('<div class="vs-repeat-fill-element"></div>').css({position:"relative","min-height":"100%","min-width":"100%"}),h.append(z),e(z)(g),g.$fillElement=z;var J={};c&&(y=b.element('<div class="vs-repeat-wheel-helper"></div>').on(d,function(a){a.preventDefault(),a.stopPropagation(),a.originalEvent&&(a=a.originalEvent),E[0].scrollLeft+=a.deltaX||-a.wheelDeltaX,E[0].scrollTop+=a.deltaY||-a.wheelDeltaY}).on("mousemove",function(a){(J.x!==a.clientX||J.y!==a.clientY)&&b.element(this).css("display","none"),J={x:a.clientX,y:a.clientY}}).css("display","none"),z.append(y)),g.startIndex=0,g.endIndex=0,E.on("scroll",function(){w()&&g.$apply()}),c&&E.on(d,r),b.element(a).on("resize",s),g.$on("$destroy",function(){b.element(a).off("resize",s)}),g.$on("vsRepeatTrigger",t);var K,L,M;g.$watch(function(){"function"==typeof a.requestAnimationFrame?a.requestAnimationFrame(v):v()})}}}}}]),b.element(document.head).append(["<style>.vs-repeat-wheel-helper{	position: absolute;	top: 0;	bottom: 0;	left: 0;	right: 0;	z-index: 99999;	background: rgba(0, 0, 0, 0);}.vs-repeat-repeated-element{	position: absolute;	z-index: 1;}</style>"].join(""))}(window,window.angular);